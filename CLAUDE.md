# CLAUDE.md

This file provides guidance to Claude Code (claude.ai/code) when working with code in this repository.

## What This Repository Is

This is an **ArcKit v1.0.3** architecture governance project — not a software codebase. It uses 42 AI-driven slash commands to generate architecture artifacts (markdown documents) for a **UK Government Fuel Price Transparency Service**. There is no application code to build, test, or lint.

## Key Commands

### Bash Scripts (run from repo root)

```bash
# List all projects with completion status
.arckit/scripts/bash/list-projects.sh [--verbose] [--json]

# Create a new project (requires principles in 000-global/)
.arckit/scripts/bash/create-project.sh --name "Project Name" [--json] [--force]

# Check environment and project prerequisites
.arckit/scripts/bash/check-prerequisites.sh [--project <prefix>] [--json]

# Generate a document ID (e.g., ARC-001-REQ-v1.0)
.arckit/scripts/bash/generate-document-id.sh <PROJECT_ID> <DOC_TYPE> [VERSION]

# Convert Claude commands to Gemini CLI TOML format
python .arckit/scripts/converter.py
```

### ArcKit Slash Commands

Use `/arckit.<command>` to generate architecture artifacts. The recommended workflow order for this UK Government project is:

```
plan → principles → stakeholders → risk → sobc → requirements → data-model →
research → wardley → diagram → dpia → tcop → secure → service-assessment
```

Full dependency ordering is documented in `DEPENDENCY-MATRIX.md`. The central artifact is **requirements** (`ARC-*-REQ-*.md`) — 36 downstream commands depend on it. **principles** (`ARC-000-PRIN-*.md`) is the governance foundation consumed by 20 commands.

## Architecture

### Document ID Convention

All artifacts use the pattern `ARC-{PROJECT_ID}-{TYPE}-v{VERSION}.md`:
- Project 000 = global (cross-project principles)
- Project 001+ = individual projects
- Multi-instance types (ADR, DIAG, WARD) add a sequence number: `ARC-001-ADR-001-v1.0.md`
- IDs are generated by `.arckit/scripts/bash/generate-document-id.sh`

### Multi-AI CLI Support

Commands are authored as Claude Code markdown in `.claude/commands/`, then mirrored to:
- `.codex/prompts/arckit/` — OpenAI Codex CLI (markdown)
- `.gemini/commands/arckit/` — Google Gemini CLI (TOML, auto-converted via `converter.py`)

### MCP Servers

Configured in `.mcp.json`:
- **AWS Knowledge** — for `/arckit.aws-research` (authoritative AWS docs)
- **Microsoft Learn** — for `/arckit.azure-research` (authoritative Azure docs)

### Templates

`.arckit/templates/` contains 43 markdown templates that slash commands use to structure generated artifacts.

## Domain Context

**CMA Fuel Finder open data scheme** under the Motor Fuel Price (Open Data) Regulations 2025. ~8,500 UK fuel stations publish real-time pricing data. This service ingests, aggregates, and presents that data to citizens and government policy teams (CMA enforcement, DESNZ policy).

- **Security Classification**: OFFICIAL
- **Hosting**: UK Government cloud (AWS UK or Azure UK regions)
- **Key stakeholders**: CMA, DESNZ, Citizens/Motorists, Fuel Retailers, GDS, CDDO
- **Compliance**: GDS Service Standard, TCoP, UK GDPR, Secure by Design, Green Book, Orange Book
